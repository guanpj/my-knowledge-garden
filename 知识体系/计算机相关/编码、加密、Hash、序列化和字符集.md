---
title: 编码、加密、Hash、序列化和字符集
date created: 2023-03-23
date modified: 2023-03-23
tags:
  - 编码
  - 加密
  - Hash
  - 序列化
  - 字符集
---
## 加密

在密码学中，加密是将明文信息改变为难以读取的密文内容，使之不可读的过程。只有拥有解密方法的对象，经由解密过程，才能将密文还原为正常可读的内容。理想情况下，只有经授权的人员能够读取密文所要传达的信息。<strong>加密本身并不能防止信息传输被截取，但加密能防止截取者理解其内容。</strong>

### 对称加密

#### 原理

通信双方使用同一个密钥，使用加密算法配合上密钥来加密，解密时使用加密过程

的完全逆过程配合密钥来进行解密。

![](https://my-bucket-1251125515.cos.ap-guangzhou.myqcloud.com/Code%26Hash/clipboard_20230323_030810.png)

#### 经典算法

- DES(56 位密钥，密钥太短而逐渐被弃用)
- AES(128 位、192 位、256 位密钥， 现在最流行)

#### <strong>对称加密作用</strong>

加密通信，防止信息在不安全网络上被截获后，信息被人读取或篡改。

#### <strong>对称加密(如 </strong>AES<strong>)的破解 </strong>

<em>破解思路</em>

拿到一组或多组原文-密文对 设法找到一个密钥，这个密钥可以将这些原文-密文对中的原文加密为密文，以 及将密文解密为原文的组合，即为成功破解

<em>反破解</em>

一种优秀的对称加密算法的标准是，让破解者找不到比穷举法(暴力破解法)更有

效的破解手段，并且穷举法的破解时间足够⻓(例如数千年)。

#### <strong>对称加密的缺点</strong>

密钥泄露：不能在不安全网络上传输密钥，一旦密钥泄露则加密通信失败。

### 非对称加密

#### 原理

使用公钥对数据进行加密得到密文;使用私钥对数据进行解密得到原数据。

![](https://my-bucket-1251125515.cos.ap-guangzhou.myqcloud.com/Code%26Hash/clipboard_20230323_030814.png)

使用非对称加密通信，可以在不可信网络上将双方的公钥传给对方，然后在发消息前分别对消息使用对方的公钥来加密和使用自己的私钥来签名，做到不可信网络上的可靠密钥传播及加密通信。

![](https://my-bucket-1251125515.cos.ap-guangzhou.myqcloud.com/Code%26Hash/clipboard_20230323_030819.png)

由于私钥和公钥互相可解，因此非对称加密还可以应用于数字签名技术。通常会对原数据 hash 以后对 hash 签名，然后附加在原数据的后面作为签名。这是 为了让数据更小。

![](https://my-bucket-1251125515.cos.ap-guangzhou.myqcloud.com/Code%26Hash/clipboard_20230323_030822.png)

#### <strong>经典算法</strong>

- RSA(可用于加密和签名)
- DSA(仅用于 签名，但速度更快)

#### <strong>非对称加密的优缺点</strong>

- 优点：可以在不安全网络上传输密钥。
- 缺点：计算复杂，因此性能相比对称加密差很多。

#### <strong>非对称加密(如 </strong>RSA<strong>、</strong>ECDSA<strong>)的破解 </strong>

##### <em>破解思路</em>

和对称加密不同之处在于，非对称加密的公钥很容易获得，因此制造“原文-密文”对是没有困难的事。所以，非对称加密的关键只在于如何找到一个正确的私钥，可以解密所有经过公钥加密过的密文。找到这样的私钥即为成功破解。由于非对称加密的自身特性，怎样通过公钥来推断出私钥通常是一种思路(例如 RSA)，但往往最佳手段依然是穷举法，只是和对称加密破解的区别在于，对称加密破解是不断尝试自己的新密钥是否可以将自己拿到的“原文-密文”对进行加密和解密，而非对称加密时不断尝试自己的新私钥是否和公钥互相可解。

##### <em>反破解</em>

和对称加密一样，非对称加密算法优秀的标准同样在于，让破解者找不到比穷举法更有效的破解手段，并且穷举法的破解时间足够⻓。

## 编码

把数据从一种形式转换为另一种形式。

### Base64

将二进制数据转换成由 64 个字符组成的字符串的编码算法。

#### 原理

将原数据每 6 位对应成 Base 64 索引表中的一个字符编排成一个字符串(每个字符 8 位)。

#### 用途

1. 将二进制数据扩充了储存和传输途径(例如可以把数据保存到文本文件、可以通过聊天对话框或短信形式发送二进制数据、可以在 URL 中加入简单的二进制数据)。
2. 普通的字符串在经过 Base64 编码后的结果会变得肉眼不可读，因此可以适用于 一定条件下的防偷窥(较少用)。

#### 缺点

因为自身的原理(6 位变 8 位)，因此每次 Base64 编码之后，数据都会增大约 1/3，所以会影响存储和传输性能。

### <strong>压缩与解压缩</strong>

#### <strong>含义</strong>

- 压缩：将数据使用更具有存储优势的编码算法进行编码。
- 解压缩：将压缩数据解码还原成原来的形式，以方便使用。

#### <strong>目的</strong>

减小数据占用的存储空间。

#### <strong>压缩是编码吗?</strong>

是。所谓编码，即把数据从一种形式转换为另一种形式。压缩过程属于编码过程，

解压缩过程属于解码过程。

#### <strong>常⻅压缩算法</strong>

DEFLATE、JPEG、MP3 等。

### <strong>图片与音频、视频编解码</strong>

#### <strong>含义</strong>

将图像、音频、视频数据通过编码来转换成存档形式(编码)，以及从存档形式转换回来(解码)。

#### <strong>目的</strong>

存储和压缩媒体数据(大多数媒体编码算法会压缩数据，但不是全部)。

## <strong>序列化</strong>

把数据对象(一般是内存中的，例如 JVM 中的对象)转换成字节序列的过程。对象 在程序内存里的存放形式是散乱的(存放在不同的内存区域、并且由引用进行连 接)，通过序列化可以把内存中的对象转换成一个字节序列，从而使用 byte[] 等形 式进行本地存储或网络传输，在需要的时候重新组装(反序列化)来使用。

### <strong>目的</strong>

让内存中的对象可以被储存和传输。

### <strong>序列化是编码吗?</strong>

不是，参考编码的定义。

## Hash

### <strong>定义</strong>

把任意数据转换成指定大小范围(通常很小，例如 256 字节以内)的数据。

### <strong>作用</strong>

相当于从数据中提出摘要信息，因此最主要用途是数字指纹。

### <strong>用途</strong>

#### <strong>唯一性验证</strong>

例如 Java 中的 hashCode() 方法。把 equals() 方法中的每个用于判断相等的变量都放进 hashCode() 中，一起生成一个尽量不会碰撞的整数即可。

#### <strong>数据完整性验证</strong>

从网络上下载文件后，通过比对文件的 Hash 值(例如 MD5、SHA1)，可以确认下 载的文件是否有损坏。如果下载的文件 Hash 值和文件提供方给出的 Hash 值一致， 则证明下载的文件是完好无损的。

#### <strong>快速查找 </strong>

HashMap

#### <strong>隐私保护</strong>

当重要数据必须暴露的时候，有事可以选择暴露它的 Hash 值(例如 MD5)，以保障原数据的安全。例如网站登录时，可以只保存用户密码的 Hash 值，在每次登录验 证时只需要将输入的密码的 Hash 值和数据库中保存的 Hash 值作比对就好，网站无需知道用户的密码。这样，当网站数据失窃时，用户不会因为自己的密码被盗导致 其他网站的安全也受到威胁。

<strong>注意：这不属于加密。</strong>

### Hash <strong>是编码吗?</strong>

不是。 Hash 是单向过程，往往是不可逆的，无法进行逆向恢复操作，因此 Hash 不属于编码。

### Hash <strong>是加密吗?</strong>

不是。Hash 是单向过程，无法进行逆向回复操作，因此 Hash 不属于加密。(MD5 也不是加密!)

## <strong>字符集</strong>

### <strong>含义</strong>

一个由整数向现实世界中的文字符号的 Map

### <strong>分支</strong>

ASCII：128 个字符，1 字节 ISO-8859-1:对 ASCII 进行扩充，1 字节

Unicode：13 万个字符，多字节

UTF-8：Unicode 的编码分支

UTF-16：Unicode 的编码分支

GBK / GB2312 / GB18030：中国自研标准，多字节，字符集 + 编码
